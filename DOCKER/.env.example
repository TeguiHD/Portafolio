# ============================================
# Portfolio Docker Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
#
# Quick start: Run deploy.sh to auto-generate secrets
# ============================================

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_USER=portfolio_user
POSTGRES_PASSWORD=change-me-use-openssl-rand-base64-32
POSTGRES_DB=portfolio_db

# ============================================
# Redis - Cache & Rate Limiting
# ============================================
# Used for: Exchange rate caching, session management, rate limiting
# Memory: Limited to 128MB with LRU eviction policy
REDIS_PASSWORD=change-me-use-openssl-rand-base64-24
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379

# ============================================
# NextAuth - Authentication
# ============================================
# NEXTAUTH_URL: Your production domain (with https://)
# NEXTAUTH_SECRET: Generate with: openssl rand -base64 32
NEXTAUTH_URL=https://your-domain.com
NEXTAUTH_SECRET=change-me-use-openssl-rand-base64-32

# ============================================
# Security - Encryption
# ============================================
# Used for: Hashing emails, encrypting sensitive data
# Minimum 32 characters. Generate with: openssl rand -base64 48
ENCRYPTION_KEY=change-me-minimum-32-characters-use-openssl-rand-base64-48

# ============================================
# AI Services - OpenRouter
# ============================================
# Get your API key at: https://openrouter.ai/keys
# Used for: OCR processing (Gemini 2.0), AI categorization
# Leave empty to disable AI features
OPENROUTER_API_KEY=

# ============================================
# Derived Connection Strings
# ============================================
# These use the values above - DO NOT modify the template syntax
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}?schema=public
OUTERBASE_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# ============================================
# Docker Compose Profiles
# ============================================
# Production (default): docker compose up -d
#   - Starts: web, db, redis
#
# Development: docker compose --profile dev up -d
#   - Starts: web, db, redis, outerbase (DB GUI on port 8080)
#
# Production + SSL: docker compose --profile production up -d
#   - Starts: web, db, redis, nginx (ports 80, 443)
#   - Requires SSL certificates in ./nginx/ssl/
# ============================================
